<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- <link rel="stylesheet" href="./style.css"> -->
  <link rel="stylesheet" href="/iconfont/iconfont.css">
  <title>AJAX</title>
  <style>
    body {
      margin: 0;
      background-color: #f7f8fa;
      /* position: relative; */
      /* overflow: hidden; */
    }

    a {
      text-decoration: none;
      color: black;
    }

    .banner {
      background-image: url(https://work.mafengshe.com/static/imgs/banner.jpg);
      height: 270px;
    }

    .banner-text {
      text-align: center;
      line-height: 270px;
    }

    .main {
      margin: 74px 74px;
    }

    .main-left {
      float: left;
      width: 75%;
    }

    .main-right {
      width: 25%;
      float: right;
      /* padding: 10px 0 10px 0; */

    }

    .learn-list {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      width: 100%;
    }

    .item {
      width: 30%;
      height: 150px;
      background-color: #4ce19c;
      border-radius: 10px;
      margin: 20px 10px 10px 5px;
      position: relative;
      overflow: hidden;
    }

    /* 视频标号 */
    .item .no {
      background-color: #20b6d2;
      width: 70px;
      height: 70px;
      border-radius: 50%;
      /* 数字居中 */
      line-height: 70px;
      text-align: center;
      font-size: 28px;
      font-weight: 700;
      position: absolute;
      top: -15px;
      left: -15px;
    }

    /* 视频图标 */
    .item .info {
      position: absolute;
      right: 5px;
      top: 1px;
      color: white;
      font-size: 13px;
    }

    .icon1 {
      font-size: 20px;
    }

    .icon2 {
      font-size: 16px;
    }

    .icon3 {
      position: absolute;
      top: 0px;
      bottom: 40px;
      left: 0;
      right: 0;
      margin: auto auto;
      height: 60px;
      width: 60px;
      font-size: 60px;
    }

    .item .info>span {
      margin-left: 5px;
    }

    /* 视频标题 */
    .item .title {
      background-color: #00474c;
      position: absolute;
      bottom: 0px;
      left: 0;
      right: 0;
      height: 45px;
      text-align: center;
      line-height: 45px;
      color: white;
      font-size: 14px;
    }

    .item1 {
      background-color: white;
      margin-top: 20px;
      border-radius: 10px;
      overflow: hidden;
    }

    .righttable {
      height: 37px;
      line-height: 37px;
      color: #fff;
      background: #20b6d2;
      text-align: center;
      font-size: 15px;
    }

    .right1 {
      float: right !important;
      margin-right: 40px;
    }

    ul {
      padding-bottom: 5px;

    }

    ul>div {
      font-weight: 800;
      margin-bottom: 10px;
    }

    ol>span {
      float: right !important;
      margin-right: 40px;
    }

    ol {
      padding: 0px;
      font-size: 13px;
    }

    /* 翻页 */
    .pager {
      text-align: center;
      margin: 20px auto;
    }

    .pager>a {
      text-decoration: none;
      color: black;
      margin: 10px;
    }

    .footer {
      width: 100%;
      height: 28px;
      position: absolute;
      bottom: 0;

    }
  </style>
</head>

<body>
  <!-- 导航栏 -->
  <header>
  </header>
  <div class="main-top">
    <!-- 图片 -->
    <div class="banner">
      <div class="banner-text">
        <p style="font-size: 46px;color: white;font-weight: 800;">一分耕耘 一分收获</p>
      </div>
    </div>
    <!-- 视频部分 -->
    <div class="container">
      <section class="main">
        <!-- 中间左边的视频 -->
        <section class="main-left">
          <!-- 中间左边上面的导航栏 -->
          <div class=""></div>
          <!-- 中间左边下面的视频列表 -->
          <div id="list" class="learn-list">
            <!-- <div class="item">
                            <div class="no">1</div>
                           
                            <div class="info">
                                <span class="icon1 iconfont">&#xe8bf;<span style="font-size: 16px;">100</span></span>
                                <span class="icon2 iconfont">&#xe62c;<span>200</span></span>
                            </div>
                           
                            <div class="icon3 iconfont">&#xe627;</div>
                            <div class="title">前端学习1</div>
                        </div> -->
          </div>
          <!-- 翻页 -->
          <div class="pager">
            <a href="#">1</a>
            <a href="#">2</a>
            <a href="#">3</a>
            <a href="#">4</a>
            <a href="#">5</a>
            <a href="#">6</a>
            <a href="#">7</a>

          </div>
        </section>
        <!-- 中间右边的列表 -->
        <section class="main-right">
          <div class="item1">
            <div class="righttable">周活跃榜单</div>
            <div>
              <ul>
                <div>学员<span class="right1">答题数量</span></div>
                <ol><a href="#">张一一</a><span>3</span></ol>
                <ol><a href="#">王二二</a><span>2</span></ol>
                <ol><a href="#">周三撒</a><span>1</span></ol>
              </ul>
            </div>
          </div>
          <div class="item1">
            <div class="righttable">平均得分榜单</div>
            <div>
              <ul>
                <div>学员<span class="right1">平均分</span></div>
                <ol><a href="#">张一一</a><span>90</span></ol>
                <ol><a href="#">王二二</a><span>89</span></ol>
                <ol><a href="#">周三撒</a><span>88</span></ol>
              </ul>
            </div>
          </div>
          <div class="item1">
            <div class="righttable">等级榜</div>
            <div>
              <ul>
                <div>学员<span class="right1">等级</span></div>
                <ol><a href="#">张一一</a><span>50</span></ol>
                <ol><a href="#">王二二</a><span>49</span></ol>
                <ol><a href="#">周三撒</a><span>48</span></ol>
              </ul>
            </div>
          </div>
        </section>
      </section>
    </div>
  </div>
  <!-- 页脚 -->
  <footer class="footer">

  </footer>
  <!-- 实现翻页 -->
  <script>
    var data = []
    for (var i = 1; i < 100; ++i) {
      data.push({ no: i, title: "前端学习" + i, clickTimes: 200 + i * 2, replyTimes: 10 + i * 6 })
    }
    function renderDom(data) {
      // 动态生成视频列表
      function createItem(no, title, clickTimes, replyTimes) {
        var dom = document.createElement("div")
        // 设置属性
        dom.setAttribute("class", "item")
        var html = '<div class="no">' + no + '</div>' +
          '<div class="info"><span class="icon1 iconfont">&#xe8bf;<span style="font-size: 16px;">' + clickTimes + '</span></span><span class="icon2 iconfont">&#xe62c;<span>' + replyTimes + '</span></span></div>' +
          '<div class="icon3 iconfont">&#xe627;</div>' +
          '<div class="title">' + title + '</div>'
        dom.innerHTML = html
        return dom
      }
      // 分页
      // 分割
      function getData(pages) {
        return data.slice(pages * 12, pages * 12 + 12)
      }
      var oList = document.getElementById("list")
      function fillDom(pages) {
        // 清除所有子节点
        while (oList.hasChildNodes()) {
          oList.removeChild(oList.lastChild)
        }

        var data = getData(pages)
        var doms = data.map(function (i) {
          return createItem(i.no, i.title, i.clickTimes, i.replyTimes)
        })
        doms.forEach(function (i) {
          oList.appendChild(i)
        })
      }
      fillDom(0)

    }
    function getItems(callback) {
      var xhr = new XMLHttpRequest()
      xhr.open("get", "/json", true)
      xhr.onreadystatechange = function () {
        if (xhr.readyState == 4 && xhr.status == 200) {
          callback(JSON.parse(xhr.responseText))
        }
      }
      xhr.send()
    }
    getItems(renderDom)
  </script>
</body>

</html>